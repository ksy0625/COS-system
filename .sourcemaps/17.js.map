{"version":3,"sources":["../../src/pages/p2l/p2l-begin-job/begin-job.module.ts","../../src/pages/p2l/p2l-begin-job/begin-job.ts"],"names":[],"mappings":"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","file":"17.js","sourcesContent":["import { SharedModule } from '../../../app/shared.module';\nimport { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { P2lBeginJobPage } from './begin-job';\nimport { TranslateModule } from '@ngx-translate/core';\n\n@NgModule({\n  declarations: [\n    P2lBeginJobPage,\n  ],\n  imports: [\n  \tSharedModule,\n    IonicPageModule.forChild(P2lBeginJobPage),\n    TranslateModule.forChild()\n  ],\n})\nexport class ScanOrderPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/p2l/p2l-begin-job/begin-job.module.ts","\n//import { HostListener } from '@angular/core';\n\n\nimport { Component , ViewChild} from '@angular/core';\nimport { IonicPage, NavController, NavParams, Events } from 'ionic-angular';\nimport { Platform } from 'ionic-angular';\n\nimport {MobileAppSystemP2l} from '../../../providers/mobile.app.system.p2l'\nimport {AlertService} from '../../../providers/alert.service'\nimport {User} from '../../../providers/user'\n\nimport { Keyboard } from '@ionic-native/keyboard';\nimport { CustomKeyBoard } from '../../../components/customKeyBoard/custom-keyboard';\n\n/**\n * Generated class for the ScanOrderPage page.\n *\n * See http://ionicframework.com/docs/components/#navigation for more info\n * on Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-p2l-begin-job',\n  templateUrl: 'begin-job.html',\n})\n\n\nexport class P2lBeginJobPage {\n@ViewChild('p2lBarCodeInputBox') p2lBarCodeInput ;  \n\n  // @HostListener('document:keyup', ['$event'])\n  // handleKeyboardEvent(event: KeyboardEvent) { \n  //   this.p2lBarCode += event.code;\n  // }\n\n\n  public p2lBarCode:string = '';\n  constructor(\n    public navCtrl: NavController, \n    public navParams: NavParams, \n    private keyboard:Keyboard,\n    private platform: Platform,\n    public events: Events, public user:User, public mobileAppSystem:MobileAppSystemP2l, \n    private alertService:AlertService) \n  {\n\n    this.p2lBarCode = '';\n    CustomKeyBoard.hide();\n    this.timerTick();\n  }\n\n  timerTick()\n  {\n    let svc = this;\n    setTimeout(() => {\n      if(this.navCtrl.getActive().id ==\"P2lBeginJobPage\" && this.mobileAppSystem.isBusy()==false)\n      {\n\n        if (this.platform.is('cordova'))\n          this.keyboard.close();\n\n        if(CustomKeyBoard.isVisible() ==false)\n        {\n          if(this.p2lBarCodeInput._isFocus ==false)\n          {\n           this.p2lBarCodeInput._readonly = true;\n           this.p2lBarCodeInput.setFocus(); \n           setTimeout(() =>{\n             svc.p2lBarCodeInput._readonly = false;\n           }, 40);\n\n          }\n        }\n      }      \n      this.timerTick();\n    },100); //a least 150ms.\n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad P2lBeginJobPage');\n\n\n  }\n\n  openPage() {\n\n    if(this.p2lBarCode == '')\n      return;\n\n    let svc = this;    \n    this.mobileAppSystem.p2l_getJob(this.user.sessionInfo.userWarehouse,this.p2lBarCode, function(res:any){\n      if(res==null)return;\n      if(res.result.statusCode != 200)\n      {        \n        svc.alertService.doAlert('Error!', res.result.statusMsg, 'OK').then(function(ret:boolean)\n        {\n        });\n      }\n      else\n      {\n        svc.user.p2linfo.jobID = res.result.jobID;\n        svc.user.p2linfo.p2lBarcode = svc.p2lBarCode;\n        svc.user.p2linfo.sortOrder = res.result.sortOrder;\n        svc.navCtrl.setRoot('P2lScanProductPage');\n      }\n      svc.p2lBarCode = '';\n      \n    });\n\n  }\n\n  onChangedP2lBarcode(val:any)\n  {    \n    let svc = this;\n    if(val==null || val=='')\n      return;\n    this.openPage();\n  }\n  \n  \n  onShowKeyPad()\n  {\n    let svc = this;\n    if(CustomKeyBoard.isVisible())\n       CustomKeyBoard.hide();\n    else\n    {\n      CustomKeyBoard.show();\n      CustomKeyBoard.setTarget(this.p2lBarCodeInput, function(val:string){\n         svc.onChangedP2lBarcode(val);\n      });\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/p2l/p2l-begin-job/begin-job.ts"],"sourceRoot":""}