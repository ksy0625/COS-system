{"version":3,"sources":["../../src/pages/scan-order/scan-order.module.ts","../../src/pages/scan-order/scan-order.ts"],"names":[],"mappings":"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","file":"1.js","sourcesContent":["import { SharedModule } from '../../app/shared.module';\nimport { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { ScanOrderPage } from './scan-order';\nimport { TranslateModule } from '@ngx-translate/core';\n\n@NgModule({\n  declarations: [\n    ScanOrderPage,\n  ],\n  imports: [\n  \tSharedModule,\n    IonicPageModule.forChild(ScanOrderPage),\n    TranslateModule.forChild()\n  ],\n})\nexport class ScanOrderPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/scan-order/scan-order.module.ts","import { Component , ViewChild} from '@angular/core';\nimport { IonicPage, NavController, NavParams, Events } from 'ionic-angular';\n\nimport {MobileAppSystem} from '../../providers/mobile.app.system'\nimport {AlertService} from '../../providers/alert.service'\nimport {User} from '../../providers/user'\n\nimport { Keyboard } from '@ionic-native/keyboard';\nimport { CustomKeyBoard } from '../../components/customKeyBoard/custom-keyboard';\nimport { BarcodeInputComponent } from '../../components/barcode-input/barcode-input';\n\n/**\n * Generated class for the ScanOrderPage page.\n *\n * See http://ionicframework.com/docs/components/#navigation for more info\n * on Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-scan-order',\n  templateUrl: 'scan-order.html',\n})\n\n\nexport class ScanOrderPage {\n@ViewChild('orderBarCodeInputBox') orderBarCodeInput ;\n  @ViewChild('zoneSelector') zoneSelector ;  \n  \n  public zoneCodes:string[];\n  public zoneCode:string = '';\n  public orderBarCode:string = '';\n\n  constructor(\n    public navCtrl: NavController, \n    public navParams: NavParams, \n    private keyboard:Keyboard,\n    public events: Events, public user:User, public mobileAppSystem:MobileAppSystem, \n    private alertService:AlertService) \n  {\n\n    this.orderBarCode = '';\n\n    //init zone list\n    let svc = this;\n    this.mobileAppSystem.initialiseConveyorPick(this.user.sessionInfo.userWarehouse, function(res:any){\n      if(res==null)return;\n\n      svc.user.allowableProductsNotInTote = res.result.allowableProductsNotInTote;\n      svc.zoneCodes = res.result.pickZonesList; \n    });\n\n    CustomKeyBoard.hide();\n    this.timerTick();    \n  }\n\n  timerTick()\n  {\n    setTimeout(() => {\n      if(this.navCtrl.getActive().component.name ==\"ScanOrderPage\" && this.mobileAppSystem.isBusy()==false)\n      {\n\n        if(this.keyboard.close != null)\n          this.keyboard.close();\n\n        if(CustomKeyBoard.isVisible() ==false && this.zoneSelector._isFocus ==false)\n        {\n          if(this.orderBarCodeInput._isFocus ==false)\n          {\n            this.orderBarCodeInput._readonly = true;\n            this.orderBarCodeInput.setFocus();\n            this.orderBarCodeInput._readonly = false;\n          }\n        }\n\n      }      \n      this.timerTick();\n    },100); //a least 150ms.\n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad ScanOrderPage');\n    this.orderBarCodeInput.setFocus();\n  }\n\n  openPage() {\n\n    if(this.orderBarCode == '' || this.zoneCode=='')\n      return;\n\n    let svc = this;    \n    this.mobileAppSystem.scanOrderBarcode(this.orderBarCode, this.user.sessionInfo.userWarehouse,this.zoneCode, function(res:any){\n      if(res==null)return;\n      if(res.result.binLocationList == null)\n      {\n        if(res.result.statusMsg != null && res.result.statusMsg != '')\n          // svc.modalService.doAlert('ScanOrderBarcode', res.result.statusMsg, 'OK', 'default', 'barcode');\n        svc.alertService.doAlert('ScanOrderBarcode', res.result.statusMsg, 'OK');        \n        return;\n      }\n\n      svc.user.orderInfo.zone = svc.zoneCode;\n      svc.user.orderInfo.binLocations = res.result.binLocationList;\n      svc.user.orderInfo.countProductScaned = res.result.countProductScanned;\n      svc.user.orderInfo.countTotalProducts = res.result.countTotalProducts;\n      svc.user.orderInfo.orderBarcode = res.result.orderNumber;\n      svc.user.orderInfo.toteNumber = res.result.toteNumber;\n      svc.user.orderInfo.warehouse = svc.user.sessionInfo.userWarehouse;\n\n\n      svc.events.publish('scan:order');\n      svc.navCtrl.push('ScanProductPage');\n    });\n\n  }\n\n  onChangedOrderBarcode(val:any)\n  {    \n    let svc = this;\n    if(val==null || val=='')\n      return;\n    this.openPage();\n  }\n\n  onChangeZone()\n  {\n    this.selectOrderBarcodeInput();\n  }\n\n  selectOrderBarcodeInput()\n  {\n    setTimeout(() => {\n    this.orderBarCodeInput.setFocus();\n    },300); //a least 150ms.\n  }\n\n  onShowKeyPad()\n  {\n    let svc = this;\n    if(CustomKeyBoard.isVisible())\n       CustomKeyBoard.hide();\n    else\n    {\n      CustomKeyBoard.show();\n      CustomKeyBoard.setTarget(this.orderBarCodeInput, function(val:string){\n         svc.onChangedOrderBarcode(val);\n      });\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/scan-order/scan-order.ts"],"sourceRoot":""}