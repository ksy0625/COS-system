{"version":3,"sources":["../../src/pages/move-stock/move-stock-source/move-stock-source.module.ts","../../src/pages/move-stock/move-stock-source/move-stock-source.ts"],"names":[],"mappings":"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","file":"18.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { MoveStockSourcePage } from './move-stock-source';\nimport { TranslateModule } from '@ngx-translate/core';\n\n@NgModule({\n  declarations: [\n    MoveStockSourcePage,\n  ],\n  imports: [\n    IonicPageModule.forChild(MoveStockSourcePage),\n    TranslateModule.forChild(),\n  ],\n})\nexport class ScanProductPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/move-stock/move-stock-source/move-stock-source.module.ts","import { Component, ViewChild } from '@angular/core';\nimport { IonicPage, NavController, NavParams } from 'ionic-angular';\nimport { TranslateService } from '@ngx-translate/core';\nimport { Keyboard } from '@ionic-native/keyboard';\nimport { Platform } from 'ionic-angular';\nimport {MobileAppSystemMoveStock} from '../../../providers/mobile.app.system.movestock';\nimport {User} from '../../../providers/user'\nimport {AlertService} from '../../../providers/alert.service'\nimport {ModalService} from '../../../providers/modal.service'\nimport { CustomKeyBoard } from '../../../components/customKeyBoard/custom-keyboard';\n\n/**\n * Generated class for the ScanProductPage page.\n *\n * See http://ionicframework.com/docs/components/#navigation for more info\n * on Ionic pages and navigation.\n */\n\n export class MoveStockSourceData{\n  fromBinCode:string='';\n  sourceMainWH:string='';\n  binClass:string='';\n  binQty:number=0;\n  binType:string='';\n  description:string='';\n  maxQty:number=0;\n  putaways:number=0;\n  replens:number=0;\n  sos:number=0;\n  stockCode:string='';\n  img_url:string='';\n }\n\n@IonicPage()\n@Component({\n  selector: 'page-move-stock-source',\n  templateUrl: 'move-stock-source.html'\n})\nexport class MoveStockSourcePage{\n\n  @ViewChild('barCodeInputBox') barCodeInput;\n  productBarCode:string = '';\n  moveStockSourceData:MoveStockSourceData = new MoveStockSourceData();\n  bDataChecked:boolean = false;\n\n  binQty:string='';\n  maxQty:string='';\n  putaways:string='';\n  replens:string='';\n  sos:string='';\n\n  private imageUrl:string='';\n\n  constructor(public navCtrl: NavController, \n              public navParams: NavParams, \n              private keyboard:Keyboard,\n              private platform: Platform,\n              public mobileAppSystem:MobileAppSystemMoveStock,\n              private modalService:ModalService,\n              public translateService:TranslateService, public user:User, private alertService:AlertService) {\n\n    this.timerTick();\n  }\n\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad MoveStockSourcePage');\n  }\n\n  timerTick()\n  {\n    let svc = this;\n    setTimeout(() => {\n      if(this.navCtrl.getActive().id !=\"MoveStockSourcePage\"  || this.mobileAppSystem.isBusy()==true)\n      {\n        this.timerTick();\n        return;\n      }\n\n      let visibleKeypad = CustomKeyBoard.isVisible();\n      if (svc.platform.is('cordova'))\n        svc.keyboard.close();\n      if(visibleKeypad==false)\n      {\n        if(svc.barCodeInput._isFocus ==false)\n        {\n          svc.barCodeInput._readonly = true;\n          svc.barCodeInput.setFocus();            \n          setTimeout(() =>{\n            svc.barCodeInput._readonly = false;\n          }, 40);\n          \n        }\n      }       \n      svc.timerTick();\n\n    },100); //a least 150ms.\n  }\n\n\n  onShowKeyPad()\n  {\n    let svc = this;\n    if(CustomKeyBoard.isVisible())\n       CustomKeyBoard.hide();\n    else\n    {\n      CustomKeyBoard.show();    \n      CustomKeyBoard.setTarget(this.barCodeInput, function(val:string){\n        svc.onChangedBarCode(val);\n      });\n    }\n  }\n\n  hideKeyboard()\n  {    \n    CustomKeyBoard.hide();\n  }\n  \n  checkBarcod()\n  {\n    let svc = this;    \n    if(this.productBarCode =='')return;\n    this.mobileAppSystem.moveStock_getSourceBinDetails(this.user.sessionInfo.userWarehouse, this.productBarCode, function(res:any){\n      if(res==null || res.result==null)return;\n      if(res.result.statusCode==200)\n      {\n        svc.moveStockSourceData = res.result;\n        svc.imageUrl = svc.moveStockSourceData.img_url+ '?' + new Date().toISOString();\n        //svc.imageUrl = 'http://int.cos.net.au/mobileappimages/'+ res.result.stockCode + '.jpg';        \n\n        svc.bDataChecked = true;\n        svc.user.movestockInfo.fromBinCode = res.result.fromBinCode;\n        svc.user.movestockInfo.sourceMainWH = res.result.sourceMainWH;\n        svc.user.movestockInfo.sourceBinQty = res.result.binQty;\n        svc.user.movestockInfo.sourceStockCode = res.result.stockCode;\n        svc.user.movestockInfo.sourceBinImage = svc.imageUrl;\n\n        svc.binQty = String(svc.moveStockSourceData.binQty);\n        svc.maxQty = String(svc.moveStockSourceData.maxQty);\n        svc.putaways = String(svc.moveStockSourceData.putaways);\n        svc.replens = String(svc.moveStockSourceData.replens);\n        svc.sos = String(svc.moveStockSourceData.sos);\n\n      }\n      else\n      {\n         svc.alertService.doAlert('Error', res.result.statusMsg, 'OK').then(function(ret:boolean){\n         });\n      }\n    }); \n  }\n\n  onChangedBarCode(value:string)\n  {\n    if(value != '')\n      this.checkBarcod();\n    //moveStock_getBinDetails\n  }\n   \n  openPage()\n  {\n    if(this.bDataChecked==false)return;\n    this.navCtrl.setRoot('MoveStockDestPage');\n  }\n  updateImageUrl(event:any)\n  {\n    //this.imageUrl = this.moveStockSourceData.img_url;\n  }      \n    \n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/move-stock/move-stock-source/move-stock-source.ts"],"sourceRoot":""}